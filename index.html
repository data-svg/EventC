<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Event Budgeting Calculator</title>
  <meta name="description" content="Plan event costs, revenue, and break-even with a client-side calculator." />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="container">
    <header class="header">
      <div>
        <h1>Event Budgeting Calculator</h1>
        <p class="muted">Plan costs, forecast revenue, and see break-even instantly. Everything stays in your browser.</p>
      </div>
      <div class="actions">
        <button id="btn-reset" class="btn">Reset</button>
        <button id="btn-csv" class="btn">CSV</button>
        <button id="btn-json" class="btn">JSON</button>
        <label class="btn file">
          Import
          <input id="file-import" type="file" accept="application/json" />
        </label>
        <button id="btn-print" class="btn">Print</button>
      </div>
    </header>

    <section class="kpis">
      <div class="tile">
        <div class="label">Total Cost</div>
        <div class="value" id="kpi-cost">—</div>
      </div>
      <div class="tile">
        <div class="label">Revenue</div>
        <div class="value" id="kpi-rev">—</div>
      </div>
      <div class="tile" id="tile-profit">
        <div class="label">Profit</div>
        <div class="value" id="kpi-profit">—</div>
      </div>
      <div class="tile">
        <div class="label">Margin</div>
        <div class="value" id="kpi-margin">—</div>
      </div>
    </section>

    <main class="grid">
      <section class="card span-2">
        <div class="card-head">
          <h2>Costs</h2>
          <button id="add-cost" class="btn">Add line</button>
        </div>
        <div class="table-wrap">
          <table class="table" id="cost-table">
            <thead>
              <tr>
                <th>Category</th>
                <th>Description</th>
                <th class="num">Qty</th>
                <th class="num">Unit</th>
                <th class="num">Line</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="cost-body"></tbody>
          </table>
        </div>
        <div class="summary">
          <div class="sum-item">
            <div class="muted">Subtotal</div>
            <div id="sum-subtotal" class="sum-val">—</div>
          </div>
          <div class="sum-item">
            <div class="muted">Tax <span id="sum-vat-pct"></span></div>
            <div id="sum-tax" class="sum-val">—</div>
          </div>
          <div class="sum-item">
            <div class="muted">Contingency <span id="sum-cont-pct"></span></div>
            <div id="sum-cont" class="sum-val">—</div>
          </div>
        </div>
      </section>

      <section class="card">
        <div class="card-head">
          <h2>Settings</h2>
          <div class="muted small">Autosaves locally</div>
        </div>
        <div class="form">
          <label class="field">
            <span>Currency</span>
            <select id="currency">
              <option value="GBP" selected>GBP £</option>
              <option value="USD">USD $</option>
              <option value="EUR">EUR €</option>
              <option value="ZAR">ZAR R</option>
            </select>
          </label>
          <label class="field">
            <span>Expected attendance</span>
            <input id="attendance" type="number" min="0" step="1" value="0" />
          </label>
          <label class="field">
            <span>Tax on costs (e.g., VAT) %</span>
            <input id="vat" type="number" min="0" step="0.1" value="0" />
          </label>
          <label class="field">
            <span>Contingency %</span>
            <input id="contingency" type="number" min="0" step="0.5" value="10" />
          </label>

          <div class="two">
            <div class="mini-tile">
              <div class="muted">Cost / attendee</div>
              <div class="mini-val" id="kpi-cost-per-att">—</div>
            </div>
            <div class="mini-tile">
              <div class="muted">Avg ticket price</div>
              <div class="mini-val" id="kpi-avg-price">—</div>
            </div>
          </div>

          <div class="two">
            <div class="mini-tile">
              <div class="muted">Break-even price @ attendance</div>
              <div class="hint" id="hint-att">0 attendees</div>
              <div class="mini-val" id="kpi-bep-price">—</div>
            </div>
            <div class="mini-tile">
              <div class="muted">Break-even attendance @ avg price</div>
              <div class="hint" id="hint-avg">— average price</div>
              <div class="mini-val" id="kpi-bep-att">—</div>
            </div>
          </div>

          <div>
            <h4>Cost breakdown</h4>
            <ul id="cost-breakdown" class="list"></ul>
          </div>
        </div>
      </section>

      <section class="card span-2">
        <div class="card-head">
          <h2>Revenue</h2>
          <div class="row">
            <label class="field small">
              <span>Ticketing fee (%)</span>
              <input id="fee" type="number" min="0" step="0.1" value="0" />
            </label>
            <button id="add-ticket" class="btn">Add ticket tier</button>
            <button id="add-sponsor" class="btn">Add sponsorship</button>
          </div>
        </div>

        <div class="table-wrap">
          <table class="table" id="ticket-table">
            <thead>
              <tr>
                <th>Tier</th><th class="num">Price</th><th class="num">Qty</th><th class="num">Include fees</th><th class="num">Net</th><th></th>
              </tr>
            </thead>
            <tbody id="ticket-body"></tbody>
          </table>
        </div>

        <div>
          <h3>Sponsorships</h3>
          <div class="table-wrap">
            <table class="table" id="sponsor-table">
              <thead><tr><th>Sponsor</th><th class="num">Amount</th><th></th></tr></thead>
              <tbody id="sponsor-body"></tbody>
            </table>
          </div>
        </div>

        <div class="three">
          <div class="mini-tile">
            <div class="muted">Ticket revenue</div>
            <div class="mini-val" id="kpi-ticket-rev">—</div>
          </div>
          <div class="mini-tile">
            <div class="muted">Sponsorship</div>
            <div class="mini-val" id="kpi-spon">—</div>
          </div>
          <div class="mini-tile">
            <div class="muted">Other income</div>
            <div class="row">
              <input id="other-income" type="number" min="0" step="0.01" value="0" />
            </div>
          </div>
        </div>

        <div class="total-row">
          <div>Total Revenue</div>
          <div class="total-val" id="kpi-total-rev">—</div>
        </div>
      </section>
    </main>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
